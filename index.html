<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=640" />

    <link rel="stylesheet" href="stylesheets/core.css" media="screen"/>
    <link rel="stylesheet" href="stylesheets/mobile.css" media="handheld, only screen and (max-device-width:640px)"/>
    <link rel="stylesheet" href="stylesheets/pygment_trac.css"/>

    <script type="text/javascript" src="javascripts/modernizr.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="javascripts/headsmart.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function () {
        $('#main_content').headsmart()
      })
    </script>
    <title>ALE by blesh</title>
  </head>

  <body>
    <a id="forkme_banner" href="https://github.com/blesh/ALE">View on GitHub</a>
    <div class="shell">

      <header>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <h1>ALE</h1>
            <h2>Another Looping Event - An Event Loop Architecture for C#</h2>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
      </header>

      <section id="downloads">
        <span class="inner">
          <a href="https://github.com/blesh/ALE/zipball/master" class="zip"><em>download</em> .ZIP</a><a href="https://github.com/blesh/ALE/tarball/master" class="tgz"><em>download</em> .TGZ</a>
        </span>
      </section>


      <span class="banner-fix"></span>


      <section id="main_content">
        <h3>ALE - Another Looping Event - (Alpha)</h3>

<p>Created by Ben Lesh</p>

<p>Licensed under GNU General Public License v 3</p>

<h1></h1>

<p>This project is a Node.js style implementation of an event loop architecture in C#. This is something I whipped up for fun, mostly as a proof of concept. I like it though, and I'm looking for feedback.</p>

<p>Thank you for any feedback you might have.</p>

<p><em>examples</em></p>

<h3>To start a web server</h3>

<pre><code>EventLoop.Start(() =&gt; {
    Server.Create()
       .Use((req, res) =&gt; {
          res.Write("&lt;h1&gt;Hello World&lt;/h1&gt;");
       }).Listen("http://*:1337");
});
</code></pre>

<h3>Setting up a web socket server</h3>

<pre><code>EventLoop.Start(() =&gt; {
    Net.CreateServer((socket) =&gt; {
        socket.Receive((text) =&gt; {
            socket.Send("Echo: " + text);
        });
    }).Listen("127.0.0.1", 1338, "http://origin.com");
});
</code></pre>

<p>Or just to do something like read a file from disk:</p>

<pre><code>EventLoop.Start(() =&gt; {
    File.ReadAllText(@"C:\File.txt", (text) =&gt; {
        DoSomething(text);
    });
});
</code></pre>

<h3>To start a ALE in IIS</h3>

<ul>
<li>Start a new web project.</li>
<li>Reference ALE and ALE.Web.</li>
<li>
<p>Add a reference to the HttpHandler in the Web.Config (here is the minimum Web.config required):</p>

<pre><code>&lt;?xml version="1.0"?&gt;
&lt;configuration&gt;
  &lt;system.web&gt;
    &lt;compilation debug="true" targetFramework="4.0" /&gt;
 &lt;/system.web&gt;
 &lt;system.webServer&gt;
 &lt;validation validateIntegratedModeConfiguration="false"/&gt;
    &lt;modules runAllManagedModulesForAllRequests="true"/&gt;
    &lt;handlers&gt;
      &lt;add verb="*" path="*"
        name="AleHttpHandler"
        type="ALE.Web.AleHttpHandler"/&gt;
    &lt;/handlers&gt;
   &lt;/system.webServer&gt;
 &lt;/configuration&gt;
</code></pre>
</li>
<li>
<p>Add initialization code to Application_Start in your Global.asax:</p>

<p>void Application_Start(object sender, EventArgs e)
{
    // Start the event loop.
    EventLoop.Start();</p>

<pre><code>// Get the ALE server instance and wire up your middlware.
ALE.Web.Server.Create()
    .Use((req, res) =&gt; res.Write("Hello World"))
    .Use((req, res) =&gt; res.Write("&lt;br/&gt;No seriously, I said hello."));
</code></pre>

<p>}</p>
</li>
<li>
<p>Add teardown in Application_End in your Global.asax:</p>

<p>void Application_End(object sender, EventArgs e)
{
    // Shut down the EventLoop.
    EventLoop.Stop();
}</p>
</li>
</ul><p>See my blog at <a href="http://www.benlesh.com">http://www.benlesh.com</a> for more information (posts tagged with ALE)</p>

<h3>Version History</h3>

<ul>
<li>v 0.0.10.2 - Added basic Promise implementation</li>
<li>v 0.0.9.4 - Updated EventLoops to be slightly more efficient.

<ul>
<li>added unit tests.</li>
<li>Fixed issues with Razor templating.</li>
<li>Fixed some issues with routing.</li>
</ul>
</li>
<li>v 0.0.7.2 - Added FileSystemWatcher implemention.

<ul>
<li>added beginnings of Razor template view processor.</li>
</ul>
</li>
<li>v 0.0.7.0 - Added routing.</li>
<li>v 0.0.6.1 - Rewrote EventLoop to use Tasks and ContinueWith rather than Actions for performance reasons, and cleaned up the api a little.

<ul>
<li>moved File class to proper namespace.</li>
<li>updated File async methods.</li>
<li>added File.Read method for streaming file data.</li>
</ul>
</li>
<li>v 0.0.5.0 - Added asynchronous http handler for IIS integration.</li>
<li>v 0.0.4.6 - Added a static file server implementation.</li>
<li>v 0.0.4.4 - Updated web server to use a single event to register all actions

<ul>
<li>removed preprocessor and post processor events.</li>
<li>Create method no longer used to register a main event. There is no main event.</li>
</ul>
</li>
<li>v 0.0.4.2 - Converted middleware usage to simple event/delegate implementation.</li>
<li>v 0.0.4.1 - Abstractions and Middleware capabilities added. Laying the groundwork for a routed server.

<ul>
<li>Abstracted out Server, Request and Response.</li>
<li>Added IPreprocessor and IPostprocessor for "before and after" middleware implementations.</li>
<li>Added Using method and overloards to IServer to handle attaching middleware.</li>
</ul>
</li>
<li>v 0.0.3.0 - Added non-blocking WebSocket implementation</li>
<li>v 0.0.2.2 - Fixed a few issues

<ul>
<li>Fixed an issue where EventLoop wouldn't pause when Events Queue was empty.</li>
<li>Added Do.Async functionality.</li>
<li>Tested multithreaded event-loop processing.</li>
</ul>
</li>
<li>v 0.0.2.1 - Updated Sql client Reader call to .NET's non-blocking async call.</li>
<li>v 0.0.2.0 - Updated all I/O called to .NET's non-blocking async calls.</li>
<li>v 0.0.1.0 - Added a simple SqlClient implementation, ExecuteReader only for now. More soon.</li>
</ul>
      </section>

      <footer>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <p>this project by <a href="https://github.com/blesh">blesh</a> can be found on <a href="https://github.com/blesh/ALE">GitHub</a></p>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
        <p>Generated with <a href="http://pages.github.com">GitHub Pages</a> using Merlot</p>
        <span class="octocat"></span>
      </footer>

    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-36380079-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
